<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="robots" content="noindex, nofollow" />
  <title>Quote Workspace | Income Stream Dashboard</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header class="site-header">
    <div class="header-content">
      <div class="branding">
        <h1 class="site-title">Quote workspace</h1>
        <p class="site-subtitle">Build member-facing quotes and issue coverage requests from a focused workspace.</p>
      </div>
    </div>
  </header>

  <main class="layout layout--account">
    <p class="back-link"><a href="quotes.html">&larr; Back to Quotes directory</a></p>

    <section class="panel panel--full" aria-labelledby="quote-select-heading">
      <header class="panel__header panel__header--split">
        <div>
          <h2 id="quote-select-heading" class="panel__title">Quote client</h2>
          <p class="panel__description">
            Review the selected credit union and issue coverage requests. Issued coverage entries sync across users.
          </p>
        </div>
        <div class="panel__actions">
          <a class="panel-link" href="quotes.html">Change Account</a>
          <a class="panel-link" href="quotes-loan-tools.html">Loan tools</a>
          <button type="button" class="secondary-button" id="open-menu-pricing-btn">Menu Pricing</button>
        </div>
      </header>
      <p id="quote-workspace-summary" class="panel__note">Select a credit union to start a quote.</p>
    </section>

    <section class="panel panel--full" aria-labelledby="loan-officer-heading">
      <header class="panel__header">
        <div>
          <h2 id="loan-officer-heading" class="panel__title">Menu Presentation</h2>
          <p class="panel__description">
            Build a member-facing payment illustration by combining the auto loan terms with warranty coverage selections.
          </p>
        </div>
      </header>

      <p id="loan-officer-summary" class="panel__note">Select a credit union to start an illustration.</p>

      <div class="loan-officer-grid">
        <div class="loan-officer-card">
          <h3 class="loan-officer-card__title">Loan details</h3>
          <div class="loan-officer-fields">
            <div class="field-group">
              <label for="loan-amount">Loan amount</label>
              <input type="number" id="loan-amount" inputmode="decimal" min="0" placeholder="25,000" />
            </div>
            <div class="field-group">
              <label for="loan-term">Term (months)</label>
              <input type="number" id="loan-term" inputmode="numeric" min="1" placeholder="72" />
            </div>
            <div class="field-group">
              <label for="loan-apr">APR (%)</label>
              <input type="number" id="loan-apr" inputmode="decimal" step="0.01" min="0" placeholder="6.99" />
            </div>
            <div class="field-group">
              <label for="loan-miles">Miles on vehicle</label>
              <input type="number" id="loan-miles" inputmode="numeric" min="0" placeholder="42,000" />
            </div>
            <div class="field-group">
              <label for="loan-vin">VIN</label>
              <input type="text" id="loan-vin" placeholder="1FTFW1E50JFC12345" />
            </div>
            <button type="button" id="loan-vin-decode-btn" class="secondary-button">Decode VIN</button>
          </div>
          <div class="loan-officer-request loan-officer-request--primary">
            <p class="field-label">Send coverage request (Baycel Federal Credit Union)</p>
            <p class="field-help">
              Capture the loan ID and member contact details, then send the menu options to Zapier. Member replies
              with 0-6 to confirm coverage, and you can override it in the sales register if needed.
            </p>
            <p id="coverage-request-webhook-target" class="field-help">
              Sending to: Loading webhook target...
            </p>
            <div class="loan-officer-fields">
              <div class="field-group">
                <label for="coverage-request-loan-id">Loan ID</label>
                <input type="number" id="coverage-request-loan-id" min="1" placeholder="10234" />
              </div>
              <div class="field-group">
                <label for="coverage-request-member-name">Member name</label>
                <input type="text" id="coverage-request-member-name" placeholder="Jordan Smith" />
              </div>
              <div class="field-group">
                <label for="coverage-request-phone">Member phone</label>
                <input type="tel" id="coverage-request-phone" placeholder="+1 (555) 123-4567" />
              </div>
              <div class="field-group">
                <label for="coverage-request-email">Member email (optional)</label>
                <input type="email" id="coverage-request-email" placeholder="member@email.com" />
              </div>
            </div>
            <div class="loan-officer-actions">
              <p class="feedback" id="coverage-request-warning" role="status" aria-live="polite"></p>
              <p class="feedback" id="coverage-request-feedback" role="status" aria-live="polite"></p>
              <button
                type="button"
                id="coverage-request-btn"
                class="primary-button"
                data-webhook-url=""
                disabled
              >
                Send Request
              </button>
              <div id="coverage-request-receipt" class="coverage-request-receipt" aria-live="polite"></div>
            </div>
            <div class="loan-officer-request-preview">
              <p class="field-label">Coverage request payload</p>
              <p class="field-help">Read-only JSON preview of the Zapier request.</p>
              <pre id="coverage-request-payload" class="payload-preview" aria-live="polite"></pre>
            </div>
          </div>
          <div class="loan-officer-actions">
            <button type="button" id="loan-protection-options-btn" class="secondary-button" disabled>
              Protection Options
            </button>
            <p class="field-help">
              Review the coverage combinations and payment impacts before sending the request.
            </p>
          </div>
        </div>

        <div class="loan-officer-card loan-officer-card--vin">
          <h3 class="loan-officer-card__title">VIN decode</h3>
          <div id="loan-vin-results" class="vin-results">
            <p class="vin-results__empty">Enter a VIN to decode vehicle details.</p>
          </div>
        </div>
      </div>

    </section>
  </main>

  <dialog id="menu-pricing-dialog" aria-labelledby="menu-pricing-dialog-title">
    <form method="dialog" class="dialog-form dialog-form--wide">
      <header class="dialog-header">
        <div>
          <h2 id="menu-pricing-dialog-title">Menu Pricing</h2>
          <p class="dialog-subtitle">
            Maintain the VSC/GAP markups and MOB coverage rates used for menu presentations.
          </p>
        </div>
        <button type="button" class="icon-button" id="close-menu-pricing-dialog" aria-label="Close dialog">
          <span aria-hidden="true">×</span>
        </button>
      </header>

      <div class="dialog-body">
        <div class="loan-officer-grid loan-officer-grid--menu">
          <div class="loan-officer-card loan-officer-card--mob">
            <h3 class="loan-officer-card__title">MOB coverage setup</h3>
            <div class="loan-officer-fields">
              <div class="field-group">
                <label for="mob-account-coverage-type">Coverage type</label>
                <select id="mob-account-coverage-type">
                  <option value="">Select coverage type</option>
                  <option value="credit-insurance">Credit insurance</option>
                  <option value="debt-protection">Debt protection</option>
                </select>
                <p class="field-help">Choose the primary MOB program for this credit union.</p>
              </div>
              <div class="field-group">
                <label for="mob-rate-structure">Rate structure</label>
                <select id="mob-rate-structure">
                  <option value="">Select rate structure</option>
                  <option value="single-joint">Single/Joint rates</option>
                  <option value="blended">Blended rates</option>
                </select>
                <p class="field-help">
                  Choose single/joint or blended rates before entering MOB pricing.
                </p>
              </div>
              <div id="mob-credit-rate-fields" hidden>
                <div id="mob-blended-rate-fields" class="loan-officer-fields">
                  <div class="field-group">
                    <label for="mob-blended-life-rate">Blended life rate (per $1,000)</label>
                    <input type="number" id="mob-blended-life-rate" inputmode="decimal" min="0" step="0.01" />
                  </div>
                  <div class="field-group">
                    <label for="mob-blended-disability-rate">Blended disability rate (per $1,000)</label>
                    <input type="number" id="mob-blended-disability-rate" inputmode="decimal" min="0" step="0.01" />
                  </div>
                </div>
                <div id="mob-unblended-rate-fields" class="loan-officer-fields" hidden>
                  <div class="field-group">
                    <label for="mob-single-life-rate">Single life rate (per $1,000)</label>
                    <input type="number" id="mob-single-life-rate" inputmode="decimal" min="0" step="0.01" />
                  </div>
                  <div class="field-group">
                    <label for="mob-joint-life-rate">Joint life rate (per $1,000)</label>
                    <input type="number" id="mob-joint-life-rate" inputmode="decimal" min="0" step="0.01" />
                  </div>
                  <div class="field-group">
                    <label for="mob-single-disability-rate">Single disability rate (per $1,000)</label>
                    <input type="number" id="mob-single-disability-rate" inputmode="decimal" min="0" step="0.01" />
                  </div>
                  <div class="field-group">
                    <label for="mob-joint-disability-rate">Joint disability rate (per $1,000)</label>
                    <input type="number" id="mob-joint-disability-rate" inputmode="decimal" min="0" step="0.01" />
                  </div>
                </div>
              </div>
              <div id="mob-debt-rate-fields" class="loan-officer-fields" hidden>
                <div id="mob-debt-blended-rate-fields" class="loan-officer-fields">
                  <div class="field-group">
                    <label for="mob-package-a-rate">Package A rate (per $1,000)</label>
                    <input type="number" id="mob-package-a-rate" inputmode="decimal" min="0" step="0.01" />
                  </div>
                  <div class="field-group">
                    <label for="mob-package-b-rate">Package B rate (per $1,000)</label>
                    <input type="number" id="mob-package-b-rate" inputmode="decimal" min="0" step="0.01" />
                  </div>
                  <div class="field-group">
                    <label for="mob-package-c-rate">Package C rate (per $1,000)</label>
                    <input type="number" id="mob-package-c-rate" inputmode="decimal" min="0" step="0.01" />
                  </div>
                </div>
                <div id="mob-debt-unblended-rate-fields" class="loan-officer-fields" hidden>
                  <div class="field-group">
                    <label for="mob-package-a-single-rate">Package A single rate (per $1,000)</label>
                    <input type="number" id="mob-package-a-single-rate" inputmode="decimal" min="0" step="0.01" />
                  </div>
                  <div class="field-group">
                    <label for="mob-package-a-joint-rate">Package A joint rate (per $1,000)</label>
                    <input type="number" id="mob-package-a-joint-rate" inputmode="decimal" min="0" step="0.01" />
                  </div>
                  <div class="field-group">
                    <label for="mob-package-b-single-rate">Package B single rate (per $1,000)</label>
                    <input type="number" id="mob-package-b-single-rate" inputmode="decimal" min="0" step="0.01" />
                  </div>
                  <div class="field-group">
                    <label for="mob-package-b-joint-rate">Package B joint rate (per $1,000)</label>
                    <input type="number" id="mob-package-b-joint-rate" inputmode="decimal" min="0" step="0.01" />
                  </div>
                  <div class="field-group">
                    <label for="mob-package-c-single-rate">Package C single rate (per $1,000)</label>
                    <input type="number" id="mob-package-c-single-rate" inputmode="decimal" min="0" step="0.01" />
                  </div>
                  <div class="field-group">
                    <label for="mob-package-c-joint-rate">Package C joint rate (per $1,000)</label>
                    <input type="number" id="mob-package-c-joint-rate" inputmode="decimal" min="0" step="0.01" />
                  </div>
                </div>
              </div>
              <p class="field-help">Rates are applied monthly to the remaining balance for MOB coverage.</p>
            </div>
          </div>

          <div class="loan-officer-card">
            <h3 class="loan-officer-card__title">VSC pricing inputs</h3>
            <div class="loan-officer-fields">
              <div class="field-group">
                <label for="loan-credit-union-markup">Credit union markup</label>
                <input type="number" id="loan-credit-union-markup" inputmode="decimal" min="0" placeholder="250" />
              </div>
              <div class="field-group">
                <label for="loan-gfs-markup">GFS markup</label>
                <input type="number" id="loan-gfs-markup" inputmode="decimal" min="0" placeholder="400" />
              </div>
            </div>
          </div>

          <div class="loan-officer-card">
            <h3 class="loan-officer-card__title">GAP pricing inputs</h3>
            <div class="loan-officer-fields">
              <div class="field-group">
                <label for="loan-gap-cost">GAP fixed cost</label>
                <input type="number" id="loan-gap-cost" inputmode="decimal" min="0" placeholder="795" />
                <p class="field-help">Stored per credit union as the baseline GAP price.</p>
              </div>
              <div class="field-group">
                <label for="loan-gap-credit-union-markup">Credit union markup</label>
                <input type="number" id="loan-gap-credit-union-markup" inputmode="decimal" min="0" placeholder="200" />
              </div>
              <div class="field-group">
                <label for="loan-gap-gfs-markup">GFS markup</label>
                <input type="number" id="loan-gap-gfs-markup" inputmode="decimal" min="0" placeholder="150" />
              </div>
            </div>
          </div>

          <div class="loan-officer-card">
            <h3 class="loan-officer-card__title">Term extensions</h3>
            <div class="loan-officer-fields">
              <label class="field-option" for="loan-term-extension-toggle">
                <input type="checkbox" id="loan-term-extension-toggle" />
                Term extensions?
              </label>
              <p class="field-help">
                Allow members to extend their loan term when they add protection products.
              </p>
              <div id="loan-term-extension-fields" class="term-extension-fields" hidden>
                <div class="field-group">
                  <label for="loan-vsc-term-extension">VSC term extension (months)</label>
                  <input type="number" id="loan-vsc-term-extension" inputmode="numeric" min="0" placeholder="3" />
                </div>
                <div class="field-group">
                  <label for="loan-gap-term-extension">GAP term extension (months)</label>
                  <input type="number" id="loan-gap-term-extension" inputmode="numeric" min="0" placeholder="2" />
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <footer class="dialog-footer">
        <p id="menu-pricing-save-feedback" class="field-help" role="status" aria-live="polite"></p>
        <button type="button" class="primary-button" id="menu-pricing-save-btn">Save menu pricing</button>
      </footer>
    </form>
  </dialog>

  <dialog id="protection-options-dialog" aria-labelledby="protection-options-dialog-title">
    <div class="dialog-form dialog-form--wide dialog-form--menu">
      <header class="dialog-header">
        <div>
          <h2 id="protection-options-dialog-title">Protection Options</h2>
          <p class="dialog-subtitle">Review coverage combinations and monthly payment scenarios.</p>
        </div>
        <button type="button" class="icon-button" id="close-protection-options-dialog" aria-label="Close dialog">
          <span aria-hidden="true">×</span>
        </button>
      </header>
      <div class="dialog-body">
        <div class="loan-officer-dialog-grid">
          <div class="loan-officer-card loan-officer-card--summary">
            <h3 class="loan-officer-card__title">Coverage Selection</h3>
            <div class="loan-officer-fields">
              <div class="field-group">
                <span class="field-label">Coverage combinations</span>
                <p class="field-help">
                  Every available bundle is shown below so members can see the monthly payment impact of each option.
                </p>
              </div>
              <div class="field-group">
                <span class="field-label">MOB coverage</span>
                <p class="field-help">
                  Monthly premiums are calculated per $1,000 of remaining balance and decline over time.
                </p>
                <div class="loan-officer-fields">
                  <div class="field-group">
                    <label for="mob-coverage-type">Coverage type</label>
                    <select id="mob-coverage-type" disabled>
                      <option value="credit-insurance">Credit insurance</option>
                      <option value="debt-protection">Debt protection</option>
                    </select>
                    <p class="field-help">Set the default program in Menu Pricing.</p>
                  </div>
                  <div id="mob-credit-controls">
                    <div class="field-options">
                      <label class="field-option">
                        <input type="checkbox" id="mob-credit-life" checked />
                        Credit life
                      </label>
                      <label class="field-option">
                        <input type="checkbox" id="mob-credit-disability" />
                        Credit disability
                      </label>
                    </div>
                    <div class="field-group">
                      <label for="mob-credit-tier">Borrower type</label>
                      <select id="mob-credit-tier">
                        <option value="single">Single</option>
                        <option value="joint">Joint</option>
                        <option value="blended">Blended</option>
                      </select>
                      <p class="field-help" id="mob-credit-tier-help">Rate tier follows the credit union setup.</p>
                    </div>
                  </div>
                  <div id="mob-debt-controls" hidden>
                    <div class="field-options">
                      <label class="field-option">
                        <input type="radio" name="mob-debt-package" value="package-a" checked />
                        Package A
                      </label>
                      <label class="field-option">
                        <input type="radio" name="mob-debt-package" value="package-b" />
                        Package B
                      </label>
                      <label class="field-option">
                        <input type="radio" name="mob-debt-package" value="package-c" />
                        Package C
                      </label>
                      <label class="field-option">
                        <input type="radio" name="mob-debt-package" value="none" />
                        None
                      </label>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="loan-officer-quote">
              <div class="loan-officer-quote__options">
                <div class="coverage-combo-section">
                  <div class="coverage-combo-header">
                    <p class="coverage-combo-header__eyebrow">Standard term</p>
                    <p class="coverage-combo-header__term" id="loan-standard-term">—</p>
                  </div>
                  <div class="coverage-combo-grid" id="loan-coverage-combo-grid">
                    <div class="coverage-combo-card" data-coverage-combo="base">
                      <div class="coverage-combo-card__header">
                        <p class="coverage-combo-card__eyebrow">Base loan</p>
                        <h4 class="coverage-combo-card__title">No coverage add-ons</h4>
                      </div>
                      <div class="coverage-combo-card__body">
                        <div class="payment-row">
                          <span>Monthly payment</span>
                          <strong data-coverage-field="payment">—</strong>
                        </div>
                        <div class="payment-row payment-row--highlight">
                          <span>Added per month</span>
                          <strong data-coverage-field="delta">—</strong>
                        </div>
                        <div class="payment-row">
                          <span>Total financed</span>
                          <strong data-coverage-field="total">—</strong>
                        </div>
                      </div>
                    </div>
                    <div class="coverage-combo-card" data-coverage-combo="vsc">
                      <div class="coverage-combo-card__header">
                        <p class="coverage-combo-card__eyebrow">VSC bundle</p>
                        <h4 class="coverage-combo-card__title">Vehicle service contract</h4>
                      </div>
                      <div class="coverage-combo-card__body">
                        <div class="payment-row">
                          <span>Monthly payment</span>
                          <strong data-coverage-field="payment">—</strong>
                        </div>
                        <div class="payment-row payment-row--highlight">
                          <span>Added per month</span>
                          <strong data-coverage-field="delta">—</strong>
                        </div>
                        <div class="payment-row">
                          <span>Total financed</span>
                          <strong data-coverage-field="total">—</strong>
                        </div>
                        <div class="payment-row payment-row--muted coverage-combo-card__extension" data-coverage-field="extension-row" hidden>
                          <span data-coverage-field="extension-term">Extended term payment</span>
                          <strong data-coverage-field="extension-payment">—</strong>
                        </div>
                      </div>
                    </div>
                    <div class="coverage-combo-card" data-coverage-combo="gap">
                      <div class="coverage-combo-card__header">
                        <p class="coverage-combo-card__eyebrow">GAP bundle</p>
                        <h4 class="coverage-combo-card__title">Guaranteed asset protection</h4>
                      </div>
                      <div class="coverage-combo-card__body">
                        <div class="payment-row">
                          <span>Monthly payment</span>
                          <strong data-coverage-field="payment">—</strong>
                        </div>
                        <div class="payment-row payment-row--highlight">
                          <span>Added per month</span>
                          <strong data-coverage-field="delta">—</strong>
                        </div>
                        <div class="payment-row">
                          <span>Total financed</span>
                          <strong data-coverage-field="total">—</strong>
                        </div>
                        <div class="payment-row payment-row--muted coverage-combo-card__extension" data-coverage-field="extension-row" hidden>
                          <span data-coverage-field="extension-term">Extended term payment</span>
                          <strong data-coverage-field="extension-payment">—</strong>
                        </div>
                      </div>
                    </div>
                    <div class="coverage-combo-card coverage-combo-card--featured" data-coverage-combo="vsc-gap">
                      <div class="coverage-combo-card__header">
                        <p class="coverage-combo-card__eyebrow">VSC + GAP</p>
                        <h4 class="coverage-combo-card__title">Full protection bundle</h4>
                      </div>
                      <div class="coverage-combo-card__body">
                        <div class="payment-row">
                          <span>Monthly payment</span>
                          <strong data-coverage-field="payment">—</strong>
                        </div>
                        <div class="payment-row payment-row--highlight">
                          <span>Added per month</span>
                          <strong data-coverage-field="delta">—</strong>
                        </div>
                        <div class="payment-row">
                          <span>Total financed</span>
                          <strong data-coverage-field="total">—</strong>
                        </div>
                        <div class="payment-row payment-row--muted coverage-combo-card__extension" data-coverage-field="extension-row" hidden>
                          <span data-coverage-field="extension-term">Extended term payment</span>
                          <strong data-coverage-field="extension-payment">—</strong>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="loan-officer-quote__summary">
                <div class="mob-premium-card">
                  <p class="mob-premium-card__title">Payment quote summary</p>
                  <div class="payment-row">
                    <span>Base monthly payment</span>
                    <strong id="loan-base-payment">—</strong>
                  </div>
                  <div class="payment-row">
                    <span>MOB premium (month 1)</span>
                    <strong id="loan-mob-premium-start">—</strong>
                  </div>
                  <div class="payment-row">
                    <span>MOB premium (avg)</span>
                    <strong id="loan-mob-premium-average">—</strong>
                  </div>
                  <div class="payment-row payment-row--highlight">
                    <span>Month 1 payment with MOB</span>
                    <strong id="loan-payment-with-mob">—</strong>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="loan-officer-card loan-officer-card--history">
            <h3 class="loan-officer-card__title">Quote snapshots</h3>
            <p class="field-help">Save and reopen menu presentation scenarios for this credit union.</p>
            <div class="loan-illustration-actions">
              <button type="button" id="loan-illustration-save-btn" class="secondary-button">Save snapshot</button>
              <p class="feedback" id="loan-illustration-save-status" role="status" aria-live="polite"></p>
            </div>
            <div id="loan-illustration-empty" class="empty-state" hidden>
              <p>No snapshots saved yet. Capture a quote to share with the team.</p>
            </div>
            <ul id="loan-illustration-list" class="loan-illustration-list" aria-live="polite"></ul>
          </div>
        </div>
      </div>
    </div>
  </dialog>

  <div id="toast-container" aria-live="polite"></div>

  <script>
    window.localStorage.setItem('gfsWorkspace', 'quotes');
  </script>
  <script type="module" src="app.js"></script>
</body>
</html>
