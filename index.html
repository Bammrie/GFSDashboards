<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>GFS Dashboards — Account Workspace</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css" />
</head>
<body data-page="dashboard">
  <header class="site-header site-header--hero">
    <div class="site-header__background" aria-hidden="true"></div>
    <div class="site-header__inner">
      <div class="site-header__brand">
        <img src="GFS Logo.png" class="site-header__logo" alt="Goodwine Financial Services" />
        <div class="site-header__titles">
          <span class="site-header__title">Goodwine Financial Services</span>
          <span class="site-header__subtitle">Lending Protection Intelligence</span>
        </div>
      </div>
      <nav class="site-nav" aria-label="Primary">
        <a href="index.html" class="site-nav__link site-nav__link--active">Workspace</a>
        <a href="reporting.html" class="site-nav__link">Reporting</a>
        <a href="prospects.html" class="site-nav__link">Prospects</a>
        <a href="create-account.html" class="site-nav__link">New account</a>
      </nav>
      <div class="account-switcher">
        <label for="account-selector" class="account-switcher__label">Account</label>
        <select id="account-selector" class="account-switcher__select" aria-label="Choose an account to manage">
          <option value="" disabled selected>Select an account</option>
        </select>
      </div>
    </div>
  </header>

  <section class="site-hero" aria-label="Dashboard inspiration">
    <div class="site-hero__image-frame">
      <div class="site-hero__image-placeholder" role="img" aria-label="Goodwine Financial Services reporting dashboard preview">
        <span class="site-hero__image-text">Dashboard preview coming soon</span>
      </div>
    </div>
  </section>

  <main class="workspace" aria-live="polite">
    <section class="account-overview" id="account-overview" hidden>
      <div>
        <h1 class="account-overview__title" id="account-name">Account workspace</h1>
        <p class="account-overview__meta">Core: <span id="account-core">—</span></p>
      </div>
      <div class="account-overview__summary">
        <h2>Active products &amp; services</h2>
        <ul id="account-products" class="product-pill-list"></ul>
      </div>
    </section>

    <nav class="tabs" role="tablist" aria-label="Account views">
      <button class="tabs__tab" type="button" role="tab" aria-selected="true" aria-controls="data-entry-panel" id="data-entry-tab">Data Entry</button>
      <button class="tabs__tab" type="button" role="tab" aria-selected="false" aria-controls="integration-panel" id="integration-tab">API Integration</button>
      <button class="tabs__tab" type="button" role="tab" aria-selected="false" aria-controls="account-settings-panel" id="account-settings-tab">Account Settings</button>
    </nav>

    <section id="data-entry-panel" class="tab-panel" role="tabpanel" aria-labelledby="data-entry-tab">
      <div class="panel-grid">
        <article class="panel-card">
          <header class="panel-card__header">
            <h2 class="panel-card__title">Manual loan intake</h2>
            <p class="panel-card__subtitle">Capture individual loans to keep coverage totals current when API syncs are pending.</p>
          </header>
          <form id="manual-loan-form" class="form" autocomplete="off" data-account-control>
            <div class="form__grid form__grid--three">
              <label class="field">
                <span class="field__label">Borrower <span class="field__optional">(optional)</span></span>
                <input type="text" name="borrower" class="field__input" placeholder="e.g. Jordan Ellis" />
              </label>
              <label class="field">
                <span class="field__label">Loan number <span class="field__optional">(optional)</span></span>
                <input type="text" name="loanNumber" class="field__input" placeholder="Reference or core ID" />
              </label>
              <label class="field">
                <span class="field__label">Loan officer <span class="field__required">*</span></span>
                <input type="text" name="loanOfficer" class="field__input" placeholder="e.g. Priya Nolan" required />
              </label>
              <label class="field">
                <span class="field__label">Loan amount <span class="field__required">*</span></span>
                <input type="number" name="amount" min="0" step="0.01" class="field__input" placeholder="0.00" required />
              </label>
              <label class="field">
                <span class="field__label">Loan origination date <span class="field__required">*</span></span>
                <input type="date" name="originationDate" class="field__input" required />
              </label>
              <label class="field">
                <span class="field__label">Notes <span class="field__optional">(optional)</span></span>
                <textarea name="notes" class="field__input field__input--textarea" rows="2" placeholder="Add underwriting context or follow-up tasks"></textarea>
              </label>
            </div>
            <fieldset class="fieldset fieldset--coverage" data-account-control>
              <legend>Coverage elections</legend>
              <p class="field-helper">Track protection penetration with quick Yes/No responses for each active coverage.</p>
              <div id="loan-coverage-grid" class="coverage-grid"></div>
            </fieldset>
            <div class="form__actions">
              <button type="submit" class="btn btn--primary">Add loan</button>
            </div>
          </form>
          <div class="record-table">
            <div class="record-table__header">
              <h3>Loan log</h3>
              <p id="loan-log-count" class="record-table__meta">0 loans</p>
            </div>
            <table id="loan-log-table" class="data-table">
              <thead>
                <tr>
                  <th scope="col">Borrower</th>
                  <th scope="col">Loan #</th>
                  <th scope="col">Amount</th>
                  <th scope="col">Loan officer</th>
                  <th scope="col">Origination</th>
                  <th scope="col">Coverages</th>
                  <th scope="col">Added</th>
                </tr>
              </thead>
              <tbody></tbody>
            </table>
            <p id="loan-log-empty" class="empty-state">Add manual loans to start building the ledger for this account.</p>
          </div>
        </article>

      </div>
    </section>

    <section id="integration-panel" class="tab-panel" role="tabpanel" aria-labelledby="integration-tab" hidden>
      <article class="panel-card panel-card--wide">
        <header class="panel-card__header">
          <h2 class="panel-card__title">Core API connectivity</h2>
          <p class="panel-card__subtitle">Document how the credit union core exchanges data with the dashboard.</p>
        </header>
        <form id="api-config-form" class="form form--split" autocomplete="off" data-account-control>
          <label class="field">
            <span class="field__label">API endpoint</span>
            <input type="url" name="endpoint" class="field__input" placeholder="https://" />
          </label>
          <label class="field">
            <span class="field__label">Authentication</span>
            <input type="text" name="auth" class="field__input" placeholder="Token, key, or certificate details" />
          </label>
          <label class="field field--full">
            <span class="field__label">Integration notes</span>
            <textarea name="notes" rows="3" class="field__input field__input--textarea" placeholder="Document the mapping from the core to dashboard fields."></textarea>
          </label>
          <div class="form__actions">
            <button type="submit" class="btn btn--secondary">Save API details</button>
            <button type="button" id="api-sync-btn" class="btn btn--ghost" data-account-control>Log manual sync</button>
          </div>
        </form>
        <div class="api-guide">
          <h3 class="api-guide__title">Integration playbook</h3>
          <p id="api-core-overview" class="api-guide__overview">Select an account to load the connection steps for its core.</p>
          <ol id="api-core-steps" class="api-guide__steps"></ol>
          <p class="api-guide__footnote">Update this checklist as new reports launch so data fields stay aligned with the dashboard requirements.</p>
        </div>
        <p id="api-last-sync" class="api-status">No sync events recorded yet.</p>
      </article>
    </section>

    <section id="account-settings-panel" class="tab-panel" role="tabpanel" aria-labelledby="account-settings-tab" hidden>
      <article class="panel-card">
        <header class="panel-card__header">
          <h2 class="panel-card__title">MOB coverage rates</h2>
          <p class="panel-card__subtitle">Track how the Monthly Outstanding Balance rate is split across partners.</p>
        </header>
        <form id="mob-rate-form" class="table-form" autocomplete="off" data-account-control>
          <table class="data-table data-table--tight">
            <thead>
              <tr>
                <th scope="col">Selection</th>
                <th scope="col">CLP rate</th>
                <th scope="col">GFS mark-up</th>
                <th scope="col">Credit union mark-up</th>
              </tr>
            </thead>
            <tbody id="mob-rate-body"></tbody>
          </table>
          <p class="table-form__helper">Rates are expressed per $1,000 of outstanding balance each month.</p>
          <div class="form__actions">
            <button type="submit" class="btn btn--secondary">Save MOB rates</button>
          </div>
        </form>
      </article>

      <article class="panel-card">
        <header class="panel-card__header">
          <h2 class="panel-card__title">Ancillary pricing</h2>
          <p class="panel-card__subtitle">Record the mark-ups that stay constant while contract costs vary.</p>
        </header>
        <form id="ancillary-form" class="form form--stacked" autocomplete="off" data-account-control>
          <fieldset class="fieldset">
            <legend>Vehicle Service Contract (VSC)</legend>
            <div class="form__grid form__grid--two">
              <label class="field">
                <span class="field__label">GFS mark-up</span>
                <input type="number" name="vscGfs" step="0.01" min="0" class="field__input" placeholder="0.00" />
              </label>
              <label class="field">
                <span class="field__label">Credit union mark-up</span>
                <input type="number" name="vscCreditUnion" step="0.01" min="0" class="field__input" placeholder="0.00" />
              </label>
            </div>
          </fieldset>

          <fieldset class="fieldset">
            <legend>Guaranteed Asset Protection (GAP)</legend>
            <div class="form__grid form__grid--two">
              <label class="field">
                <span class="field__label">CLP rate</span>
                <input type="number" name="gapClp" step="0.01" min="0" class="field__input" placeholder="0.00" />
              </label>
              <label class="field">
                <span class="field__label">GFS mark-up</span>
                <input type="number" name="gapGfs" step="0.01" min="0" class="field__input" placeholder="0.00" />
              </label>
              <label class="field">
                <span class="field__label">Credit union mark-up</span>
                <input type="number" name="gapCreditUnion" step="0.01" min="0" class="field__input" placeholder="0.00" />
              </label>
              <label class="field">
                <span class="field__label">Balloon loan GAP rate <span class="field__optional">(optional)</span></span>
                <input type="number" name="gapBalloon" step="0.01" min="0" class="field__input" placeholder="0.00" />
              </label>
            </div>
          </fieldset>

          <fieldset class="fieldset">
            <legend>AFG Balloon Loans</legend>
            <div class="form__grid form__grid--two">
              <label class="field">
                <span class="field__label">Program fee mark-up</span>
                <input type="number" name="afgMarkup" step="0.01" min="0" class="field__input" placeholder="0.00" />
              </label>
              <label class="field">
                <span class="field__label">Notes</span>
                <input type="text" name="afgNotes" class="field__input" placeholder="Document balloon-specific terms" />
              </label>
            </div>
          </fieldset>

          <div class="form__actions">
            <button type="submit" class="btn btn--secondary">Save ancillary pricing</button>
          </div>
        </form>
      </article>
    </section>
  </main>

  <footer class="site-footer">
    <p>&copy; <span id="footer-year"></span> Goodwine Financial Services. All rights reserved.</p>
  </footer>

  <script src="script.js" type="module"></script>
</body>
</html>
